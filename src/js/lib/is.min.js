!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&module.exports?module.exports=t():e.is=t()}(this,function(){var e,t={not:{}},n=Object.prototype.hasOwnProperty,r=function(){var e=/(?:function|class)\s*(\w*)/,t=Object.prototype.toString,n=Function.prototype.toString;return function(r){var i,u;return null===r?"null":void 0===r?"undefined":(i=t.call(r),i=i.substring(8,i.length-1),"function"!=typeof r.constructor?i.toLowerCase():(u=n.call(r.constructor).match(e)[1],(u||i).toLowerCase()))}}(),i=Object.keys||function(e){var t=e.length,r=!{toString:null}.propertyIsEnumerable("toString");return function(i){var u,o,a=[];if(null===i||void 0===i)throw new TypeError("ownKeys called on non-object");for(u in i)n.call(i,u)&&a.push(u);if(r)for(o=0;o<t;o+=1)u=e[o],n.call(i,u)&&a.push(u);return a}}(["toString","toLocaleString","valueOf","isPrototypeOf","hasOwnProperty","propertyIsEnumerable","constructor"]);return e={addPredicate:function(e,r){if(/^(not|use)$/.test(e))throw new Error('"'+e+'" is a reserved name');if(n.call(t,e))throw new Error('predicate "'+e+'" already defined');if("function"!=typeof r)throw new TypeError("predicate must be a function");t[e]=r,t.not[e]=function(){return!r.apply(null,arguments)}}},t.use=function(n){"function"==typeof n&&n(e,t)},t.use(function(e){e.addPredicate("null",function(e){return null===e}),e.addPredicate("undefined",function(e){return void 0===e}),e.addPredicate("exist",function(e){return null!=e}),e.addPredicate("nil",function(e){return null==e})}),t.use(function(e){e.addPredicate("number",function(e){return"number"==typeof e}),e.addPredicate("numeral",function(e){var n=r(e);if("number"!==n&&"string"!==n)return!1;if(t.emptyString(e))return!1;try{e=Number(e)}catch(i){return!1}return t.finite(e)}),e.addPredicate("nan",function(e){return e!==e}),e.addPredicate("odd",function(e){return t.integer(e)&&e%2===1}),e.addPredicate("even",function(e){return t.integer(e)&&e%2===0}),Number.isFinite?e.addPredicate("finite",Number.isFinite):e.addPredicate("finite",function(e){return t.number(e)&&isFinite(e)}),e.addPredicate("infinite",function(e){return e===1/0||e===-1/0}),Number.isInteger?e.addPredicate("integer",Number.isInteger):e.addPredicate("integer",function(e){return t.finite(e)&&Math.floor(e)===e}),Number.isSafeInteger?e.addPredicate("safeInteger",Number.isSafeInteger):!function(){var n=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,r=Number.MIN_SAFE_INTEGER||-n;e.addPredicate("safeInteger",function(e){return t.integer(e)&&e>=r&&e<=n})}()}),t.use(function(e){e.addPredicate("string",function(e){return"string"==typeof e}),e.addPredicate("emptyString",function(e){return t.string(e)&&/^\s*$/.test(e)}),e.addPredicate("substring",function(e,n,i){var u;return"string"===r(n)&&(u=n.length,i=t.integer(i)?i:0,i<0&&(i=u+i),!(i<0||i>=u)&&n.indexOf(e,i)!==-1)}),String.prototype.startsWith&&String.prototype.endsWith?(e.addPredicate("prefix",function(e,t){return"string"===r(t)&&t.startsWith(e)}),e.addPredicate("suffix",function(e,t){return"string"===r(t)&&t.endsWith(e)})):!function(t){e.addPredicate("prefix",t()),e.addPredicate("suffix",t(!0))}(function(e){return function(t,n){var i,u,o,a;if("string"!==r(n))return!1;if(t=String(t),o=t.length,a=n.length,o>a)return!1;for(u=e?a-o:0,i=0;i<o;i+=1)if(n.charCodeAt(u+i)!==t.charCodeAt(i))return!1;return!0}})}),t.use(function(e){e.addPredicate("boolean",function(e){return e===!0||e===!1})}),t.use(function(e){e.addPredicate("object",function(e){return t.not.primitive(e)}),e.addPredicate("emptyObject",function(e){return t.object(e)&&0===i(e).length}),e.addPredicate("propertyDefined",function(e,n){var r,i,u;for(u=e,i=String(n).split(".");r=i.shift();){if(t.not.object(u)||!(r in u))return!1;u=u[r]}return!0}),e.addPredicate("conforms",function(e,r,u){var o,a,d,c,f;if(t.not.object(e)||t.not.object(r))return!1;if(a=i(r),c=a.length,u&&c!==i(e).length)return!1;for(d=0;d<c;d+=1)if(o=a[d],f=r[o],!("function"!=typeof f||n.call(e,o)&&f(e[o],o,e)))return!1;return!0})}),t.use(function(e){Array.isArray?e.addPredicate("array",Array.isArray):e.addPredicate("array",function(e){return"array"===r(e)}),e.addPredicate("arrayLikeObject",function(e){var n;return!t.primitive(e)&&!t["function"](e)&&(n=e.length,t.integer(n)&&n>=0&&n<=4294967295)}),e.addPredicate("inArray",function(e,r,i,u){var o,a;if(t.not.arrayLikeObject(r))return!1;if(t["function"](i)?(u=i,i=0):(i=t.integer(i)?i:0,u=t["function"](u)?u:t.equal),a=r.length,i<0&&(i=a+i),i<0||i>=a)return!1;for(o=i;o<a;o+=1)if(n.call(r,o)&&u(e,r[o]))return!0;return!1})}),t.use(function(e){e.addPredicate("sameType",function(e,t){return typeof e==typeof t&&r(e)===r(t)}),e.addPredicate("primitive",function(e){return t.nil(e)||t.number(e)||t.string(e)||t["boolean"](e)||t.symbol(e)}),function(t,n){var r,i,u=n.length;for(i=0;i<u;i+=1)r=n[i],e.addPredicate(r,t(r.toLowerCase()))}(function(e){return function(t){return r(t)===e}},["date","error","function","map","regexp","set","symbol"])}),t.use(function(e){e.addPredicate("equal",function(e,t){return e===t||e!==e&&t!==t}),e.addPredicate("deepEqual",function(e,r){return!t.not.sameType(e,r)&&(t.primitive(e)?t.equal(e,r):t.array(e)?e.length===r.length&&function(){var n,i;for(n=0,i=e.length;n<i;n+=1)if(t.not.deepEqual(e[n],r[n]))return!1;return!0}():function(){var u,o,a,d;if(o=i(e),d=o.length,d!==i(r).length)return!1;for(a=0;a<d;a+=1)if(u=o[a],!n.call(r,u)||t.not.deepEqual(e[u],r[u]))return!1;return!0}())})}),t});